# 3.3.1 Clases y objetos (I): fundamentos

En JavaScript moderno (ES6+), las clases proporcionan una sintaxis mÃ¡s clara y cercana a otros lenguajes orientados a objetos.
En realidad, siguen basÃ¡ndose en **prototipos**, pero la sintaxis `class` nos permite crear y gestionar objetos de manera mÃ¡s sencilla y estructurada.

---

## ğŸ“Œ CreaciÃ³n de clases y objetos

```js
// DefiniciÃ³n de una clase bÃ¡sica
class Persona {
  // El constructor se ejecuta al crear un objeto con "new"
  constructor(nombre, edad) {
    this._nombre = nombre; //Se suele utilizar el guiÃ³n bajo para indicar que una propiedad es privada
    this._edad = edad;
  }
}

// Crear un objeto de la clase Persona
const persona1 = new Persona("Laura", 25);
console.log(persona1.nombre); // "Laura"
console.log(persona1.edad);   // 25
```

---

## ğŸ“Œ Propiedades y mÃ©todos

Las clases pueden tener **propiedades** (variables dentro de los objetos) y **mÃ©todos** (funciones asociadas a los objetos).

```js
class Coche {
  constructor(marca, modelo) {
    this._marca = marca;
    this._modelo = modelo;
  }

  // MÃ©todo
  arrancar() {
    console.log(`${this._marca} ${this._modelo} estÃ¡ arrancando...`);
  }
}

const coche1 = new Coche("Toyota", "Corolla");
coche1.arrancar(); // "Toyota Corolla estÃ¡ arrancando..."
```

---

## ğŸ“Œ El mÃ©todo constructor

El **constructor** es un mÃ©todo especial que se ejecuta automÃ¡ticamente al crear un nuevo objeto con `new`.
Se utiliza para inicializar propiedades.

```js
class Libro {
  constructor(titulo, autor, paginas) {
    this.titulo = titulo;
    this.autor = autor;
    this.paginas = paginas;
  }

  descripcion() {
    return `${this.titulo}, escrito por ${this.autor}, tiene ${this.paginas} pÃ¡ginas.`;
  }
}

const libro1 = new Libro("1984", "George Orwell", 328);
console.log(libro1.descripcion());
// "1984, escrito por George Orwell, tiene 328 pÃ¡ginas."
```

---

!!! info "Recuerda"
    - Una clase puede tener **solo un `constructor`**.
    - Si no defines un constructor, JavaScript genera uno por defecto sin parÃ¡metros.

---

## ğŸ“Œ Getters y Setters

Los **getters** y **setters** permiten controlar cÃ³mo se accede y modifica una propiedad de un objeto.
Con ellos podemos **encapsular la lÃ³gica** de lectura y escritura sin exponer directamente las propiedades internas.

```js
class Rectangulo {
  constructor(ancho, alto) {
    this._ancho = ancho;  // ConvenciÃ³n: "_" para propiedades "privadas"
    this._alto = alto;
  }

  // Getter: devuelve el Ã¡rea
  get area() {
    return this._ancho * this._alto;
  }

  // Setter: valida antes de cambiar el ancho
  set ancho(valor) {
    if (valor > 0) {
      this._ancho = valor;
    } else {
      console.log("El ancho debe ser mayor que 0");
    }
  }
}

const rect = new Rectangulo(10, 5);
console.log(rect.area); // 50

rect.ancho = 20; // Cambia el ancho
console.log(rect.area); // 100

rect.ancho = -5; // Muestra advertencia, no cambia el valor
```

---

## ğŸ“ Preguntas de repaso

!!! question "Reflexiona sobre lo aprendido"
    1. Â¿Para quÃ© sirven los getters y setters en una clase?
    2. Â¿QuÃ© convenciÃ³n se suele usar para nombrar propiedades internas que no deben modificarse directamente?
    3. Escribe un ejemplo de clase `CuentaBancaria` que tenga un setter que no permita saldo negativo.