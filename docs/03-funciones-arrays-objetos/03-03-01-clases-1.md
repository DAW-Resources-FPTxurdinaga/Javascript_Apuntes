# 3.3.1 Clases y objetos (I): fundamentos

En JavaScript moderno (ES6+), las clases proporcionan una sintaxis más clara y cercana a otros lenguajes orientados a objetos.
En realidad, siguen basándose en **prototipos**, pero la sintaxis `class` nos permite crear y gestionar objetos de manera más sencilla y estructurada.

---

## 📌 Creación de clases y objetos

```js
// Definición de una clase básica
class Persona {
  // El constructor se ejecuta al crear un objeto con "new"
  constructor(nombre, edad) {
    this._nombre = nombre; //Se suele utilizar el guión bajo para indicar que una propiedad es privada
    this._edad = edad;
  }
}

// Crear un objeto de la clase Persona
const persona1 = new Persona("Laura", 25);
console.log(persona1.nombre); // "Laura"
console.log(persona1.edad);   // 25
```

---

## 📌 Propiedades y métodos

Las clases pueden tener **propiedades** (variables dentro de los objetos) y **métodos** (funciones asociadas a los objetos).

```js
class Coche {
  constructor(marca, modelo) {
    this._marca = marca;
    this._modelo = modelo;
  }

  // Método
  arrancar() {
    console.log(`${this._marca} ${this._modelo} está arrancando...`);
  }
}

const coche1 = new Coche("Toyota", "Corolla");
coche1.arrancar(); // "Toyota Corolla está arrancando..."
```

---

## 📌 El método constructor

El **constructor** es un método especial que se ejecuta automáticamente al crear un nuevo objeto con `new`.
Se utiliza para inicializar propiedades.

```js
class Libro {
  constructor(titulo, autor, paginas) {
    this.titulo = titulo;
    this.autor = autor;
    this.paginas = paginas;
  }

  descripcion() {
    return `${this.titulo}, escrito por ${this.autor}, tiene ${this.paginas} páginas.`;
  }
}

const libro1 = new Libro("1984", "George Orwell", 328);
console.log(libro1.descripcion());
// "1984, escrito por George Orwell, tiene 328 páginas."
```

---

!!! info "Recuerda"
    - Una clase puede tener **solo un `constructor`**.
    - Si no defines un constructor, JavaScript genera uno por defecto sin parámetros.

---

## 📌 Getters y Setters

Los **getters** y **setters** permiten controlar cómo se accede y modifica una propiedad de un objeto.
Con ellos podemos **encapsular la lógica** de lectura y escritura sin exponer directamente las propiedades internas.

```js
class Rectangulo {
  constructor(ancho, alto) {
    this._ancho = ancho;  // Convención: "_" para propiedades "privadas"
    this._alto = alto;
  }

  // Getter: devuelve el área
  get area() {
    return this._ancho * this._alto;
  }

  // Setter: valida antes de cambiar el ancho
  set ancho(valor) {
    if (valor > 0) {
      this._ancho = valor;
    } else {
      console.log("El ancho debe ser mayor que 0");
    }
  }
}

const rect = new Rectangulo(10, 5);
console.log(rect.area); // 50

rect.ancho = 20; // Cambia el ancho
console.log(rect.area); // 100

rect.ancho = -5; // Muestra advertencia, no cambia el valor
```

---

## 📝 Preguntas de repaso

!!! question "Reflexiona sobre lo aprendido"
    1. ¿Para qué sirven los getters y setters en una clase?
    2. ¿Qué convención se suele usar para nombrar propiedades internas que no deben modificarse directamente?
    3. Escribe un ejemplo de clase `CuentaBancaria` que tenga un setter que no permita saldo negativo.